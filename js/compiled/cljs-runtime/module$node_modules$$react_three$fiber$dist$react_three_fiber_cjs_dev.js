shadow$provide.module$node_modules$$react_three$fiber$dist$react_three_fiber_cjs_dev=function(global,require,module,exports){function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);e&&Object.keys(e).forEach(function(k){if("default"!==k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}});n["default"]=e;return Object.freeze(n)}function createPointerEvents(store){const {handlePointer}=index.createEvents(store);
return{priority:1,enabled:!0,compute(event,state,previous){state.pointer.set(event.offsetX/state.size.width*2-1,2*-(event.offsetY/state.size.height)+1);state.raycaster.setFromCamera(state.pointer,state.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((acc,key)=>({...acc,[key]:handlePointer(key)}),{}),connect:target=>{var _events$handlers;const {set,events}=store.getState();null==events.disconnect?void 0:events.disconnect();set(state=>({events:{...state.events,connected:target}}));
Object.entries(null!=(_events$handlers=events.handlers)?_events$handlers:[]).forEach(([name,event])=>{const [eventName,passive]=DOM_EVENTS[name];target.addEventListener(eventName,event,{passive})})},disconnect:()=>{const {set,events}=store.getState();if(events.connected){var _events$handlers2;Object.entries(null!=(_events$handlers2=events.handlers)?_events$handlers2:[]).forEach(([name,event])=>{events&&events.connected instanceof HTMLElement&&([name]=DOM_EVENTS[name],events.connected.removeEventListener(name,
event))});set(state=>({events:{...state.events,connected:void 0}}))}}}}Object.defineProperty(exports,"__esModule",{value:!0});var index=require("module$node_modules$$react_three$fiber$dist$index_8539ced2_cjs_dev"),_extends=require("module$node_modules$$babel$runtime$helpers$extends");global=require("module$node_modules$react$index");module=require("module$node_modules$three$build$three");var useMeasure=require("module$node_modules$react_use_measure$dist$web_cjs"),itsFine=require("module$node_modules$its_fine$dist$index_cjs");
require("module$node_modules$react_reconciler$constants");require("module$node_modules$zustand$index");require("module$node_modules$react_reconciler$index");require("module$node_modules$$react_three$fiber$node_modules$scheduler$index");require("module$node_modules$suspend_react$dist$index_cjs");var React__namespace=_interopNamespace(global),THREE__namespace=_interopNamespace(module),useMeasure__default=useMeasure&&useMeasure.__esModule?useMeasure:{"default":useMeasure};const DOM_EVENTS={onClick:["click",
!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]},CanvasImpl=React__namespace.forwardRef(function({children,fallback,resize,style,gl,events=createPointerEvents,eventSource,eventPrefix,shadows,linear,flat,legacy,orthographic,frameloop,dpr,performance,
raycaster,camera,onPointerMissed,onCreated,...props},forwardedRef){React__namespace.useMemo(()=>index.extend(THREE__namespace),[]);const Bridge=itsFine.useContextBridge(),[containerRef,containerRect]=useMeasure__default["default"]({scroll:!0,debounce:{scroll:50,resize:0},...resize}),canvasRef=React__namespace.useRef(null),divRef=React__namespace.useRef(null),[canvas,setCanvas]=React__namespace.useState(null);React__namespace.useImperativeHandle(forwardedRef,()=>canvasRef.current);const handlePointerMissed=
index.useMutableCallback(onPointerMissed),[block,setBlock]=React__namespace.useState(!1),[error,setError]=React__namespace.useState(!1);if(block)throw block;if(error)throw error;resize=React__namespace.useRef(null);0<containerRect.width&&0<containerRect.height&&canvas&&(resize.current||(resize.current=index.createRoot(canvas)),resize.current.configure({gl,events,shadows,linear,flat,legacy,orthographic,frameloop,dpr,performance,raycaster,camera,size:containerRect,onPointerMissed:(...args)=>null==handlePointerMissed.current?
void 0:handlePointerMissed.current(...args),onCreated:state$jscomp$0=>{null==state$jscomp$0.events.connect?void 0:state$jscomp$0.events.connect(eventSource?index.isRef(eventSource)?eventSource.current:eventSource:divRef.current);eventPrefix&&state$jscomp$0.setEvents({compute:(event,state)=>{state.pointer.set(event[eventPrefix+"X"]/state.size.width*2-1,2*-(event[eventPrefix+"Y"]/state.size.height)+1);state.raycaster.setFromCamera(state.pointer,state.camera)}});null==onCreated?void 0:onCreated(state$jscomp$0)}}),
resize.current.render(React__namespace.createElement(Bridge,null,React__namespace.createElement(index.ErrorBoundary,{set:setError},React__namespace.createElement(React__namespace.Suspense,{fallback:React__namespace.createElement(index.Block,{set:setBlock})},children)))));index.useIsomorphicLayoutEffect(()=>{setCanvas(canvasRef.current)},[]);React__namespace.useEffect(()=>{if(canvas)return()=>index.unmountComponentAtNode(canvas)},[canvas]);return React__namespace.createElement("div",_extends({ref:divRef,
style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:eventSource?"none":"auto",...style}},props),React__namespace.createElement("div",{ref:containerRef,style:{width:"100%",height:"100%"}},React__namespace.createElement("canvas",{ref:canvasRef,style:{display:"block"}},fallback)))});require=React__namespace.forwardRef(function(props,ref){return React__namespace.createElement(itsFine.FiberProvider,null,React__namespace.createElement(CanvasImpl,_extends({},props,{ref})))});
exports.ReactThreeFiber=index.threeTypes;exports._roots=index.roots;exports.act=index.act;exports.addAfterEffect=index.addAfterEffect;exports.addEffect=index.addEffect;exports.addTail=index.addTail;exports.advance=index.advance;exports.applyProps=index.applyProps;exports.context=index.context;exports.createEvents=index.createEvents;exports.createPortal=index.createPortal;exports.createRoot=index.createRoot;exports.dispose=index.dispose;exports.extend=index.extend;exports.flushGlobalEffects=index.flushGlobalEffects;
exports.getRootState=index.getRootState;exports.invalidate=index.invalidate;exports.reconciler=index.reconciler;exports.render=index.render;exports.unmountComponentAtNode=index.unmountComponentAtNode;exports.useFrame=index.useFrame;exports.useGraph=index.useGraph;exports.useInstanceHandle=index.useInstanceHandle;exports.useLoader=index.useLoader;exports.useStore=index.useStore;exports.useThree=index.useThree;exports.Canvas=require;exports.events=createPointerEvents}
//# sourceMappingURL=module$node_modules$$react_three$fiber$dist$react_three_fiber_cjs_dev.js.map

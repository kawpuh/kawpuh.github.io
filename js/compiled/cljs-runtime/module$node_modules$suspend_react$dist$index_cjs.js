shadow$provide.module$node_modules$suspend_react$dist$index_cjs=function(global,require,module,exports){function shallowEqualArrays(arrA,arrB,equal=(a,b)=>a===b){if(arrA===arrB)return!0;if(!arrA||!arrB)return!1;const len=arrA.length;if(arrB.length!==len)return!1;for(let i=0;i<len;i++)if(!equal(arrA[i],arrB[i]))return!1;return!0}function query(fn,keys,preload=!1,config={}){for(const entry of globalCache)if(shallowEqualArrays(keys,entry.keys,entry.equal)){if(preload)return;if(Object.prototype.hasOwnProperty.call(entry,
"error"))throw entry.error;if(Object.prototype.hasOwnProperty.call(entry,"response"))return entry.response;if(!preload)throw entry.promise;}const entry$jscomp$0={keys,equal:config.equal,promise:fn(...keys).then(response=>entry$jscomp$0.response=response).then(()=>{config.lifespan&&0<config.lifespan&&setTimeout(()=>{const index=globalCache.indexOf(entry$jscomp$0);-1!==index&&globalCache.splice(index,1)},config.lifespan)}).catch(error=>entry$jscomp$0.error=error)};globalCache.push(entry$jscomp$0);if(!preload)throw entry$jscomp$0.promise;
}Object.defineProperty(exports,"__esModule",{value:!0});const globalCache=[];exports.clear=keys=>{if(void 0===keys||0===keys.length)globalCache.splice(0,globalCache.length);else{var entry$jscomp$0=globalCache.find(entry=>shallowEqualArrays(keys,entry.keys,entry.equal));entry$jscomp$0&&(entry$jscomp$0=globalCache.indexOf(entry$jscomp$0),-1!==entry$jscomp$0&&globalCache.splice(entry$jscomp$0,1))}};exports.peek=keys=>{var _globalCache$find;return null==(_globalCache$find=globalCache.find(entry=>shallowEqualArrays(keys,
entry.keys,entry.equal)))?void 0:_globalCache$find.response};exports.preload=(fn,keys,config)=>void query(fn,keys,!0,config);exports.suspend=(fn,keys,config)=>query(fn,keys,!1,config)}
//# sourceMappingURL=module$node_modules$suspend_react$dist$index_cjs.js.map
